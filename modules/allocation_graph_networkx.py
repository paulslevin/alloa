from manipulations import *
import networkx as nx
import math


# level 1 node demands + AND -
def nodes1(graph):
    for i, preference in enumerate(level1_preferences):
        demand = int(preference[1])
        graph.add_node(i + 1, demand=demand)
        graph.add_node(i + 1 + level1_number, demand=-demand)


# level 2 node demands + AND -
def nodes2(graph):
    for choice in level2_chosen_all:
        # to make sure we don't overwrite an existing node
        node_value = int(choice) + level1_number * 2
        demand = int(level2_preferences[choice - 1][0])
        graph.add_node(node_value, demand=demand)
        graph.add_node(node_value + level2_number, demand=-demand)


# level 3 node demands + AND -
def nodes3(graph):
    for i, choice in enumerate(level3_chosen_all):
        node_value = int(choice) + level1_number * 2 + level2_number * 2
        demand = int(level3_capacities[choice - 1][0])
        graph.add_node(node_value, demand=demand)
        graph.add_node(node_value + level3_number, demand=-demand)


G.add_edge(0, 60, weight=0)
G.add_edge(0, 20, weight=0)
G.add_edge(0, 36, weight=0)
G.add_edge(0, 58, weight=0)
G.add_edge(0, 52, weight=0)
G.add_edge(0, 16, weight=0)
G.add_edge(0, 7, weight=0)
G.add_edge(0, 1, weight=0)
G.add_edge(0, 29, weight=0)
G.add_edge(0, 33, weight=0)
G.add_edge(0, 47, weight=0)
G.add_edge(0, 6, weight=0)
G.add_edge(0, 21, weight=0)
G.add_edge(0, 24, weight=0)
G.add_edge(0, 57, weight=0)
G.add_edge(0, 51, weight=0)
G.add_edge(0, 27, weight=0)
G.add_edge(0, 35, weight=0)
G.add_edge(0, 46, weight=0)
G.add_edge(0, 2, weight=0)
G.add_edge(0, 63, weight=0)
G.add_edge(0, 45, weight=0)
G.add_edge(0, 41, weight=0)
G.add_edge(0, 62, weight=0)
G.add_edge(0, 55, weight=0)
G.add_edge(0, 61, weight=0)
G.add_edge(0, 8, weight=0)
G.add_edge(0, 23, weight=0)
G.add_edge(0, 34, weight=0)
G.add_edge(0, 22, weight=0)
G.add_edge(0, 28, weight=0)
G.add_edge(0, 44, weight=0)
G.add_edge(0, 38, weight=0)
G.add_edge(0, 15, weight=0)
G.add_edge(0, 56, weight=0)
G.add_edge(0, 31, weight=0)
G.add_edge(0, 49, weight=0)
G.add_edge(0, 66, weight=0)
G.add_edge(0, 53, weight=0)
G.add_edge(0, 37, weight=0)
G.add_edge(0, 18, weight=0)
G.add_edge(0, 32, weight=0)
G.add_edge(0, 17, weight=0)
G.add_edge(0, 30, weight=0)
G.add_edge(0, 54, weight=0)
G.add_edge(0, 25, weight=0)
G.add_edge(0, 10, weight=0)
G.add_edge(0, 39, weight=0)
G.add_edge(0, 14, weight=0)
G.add_edge(0, 5, weight=0)
G.add_edge(0, 59, weight=0)
G.add_edge(0, 19, weight=0)
G.add_edge(0, 50, weight=0)
G.add_edge(0, 11, weight=0)
G.add_edge(0, 26, weight=0)
G.add_edge(0, 12, weight=0)
G.add_edge(0, 9, weight=0)
G.add_edge(0, 13, weight=0)
G.add_edge(0, 3, weight=0)
G.add_edge(0, 64, weight=0)
G.add_edge(0, 40, weight=0)
G.add_edge(0, 65, weight=0)
G.add_edge(0, 4, weight=0)
G.add_edge(0, 43, weight=0)
G.add_edge(0, 48, weight=0)
G.add_edge(0, 42, weight=0)
G.add_edge(1, 67,capacity=1, weight=0)
G.add_edge(2, 68,capacity=1, weight=0)
G.add_edge(3, 69,capacity=1, weight=0)
G.add_edge(4, 70,capacity=1, weight=0)
G.add_edge(5, 71,capacity=1, weight=0)
G.add_edge(6, 72,capacity=1, weight=0)
G.add_edge(7, 73,capacity=1, weight=0)
G.add_edge(8, 74,capacity=1, weight=0)
G.add_edge(9, 75,capacity=1, weight=0)
G.add_edge(10, 76,capacity=1, weight=0)
G.add_edge(11, 77,capacity=1, weight=0)
G.add_edge(12, 78,capacity=1, weight=0)
G.add_edge(13, 79,capacity=1, weight=0)
G.add_edge(14, 80,capacity=1, weight=0)
G.add_edge(15, 81,capacity=1, weight=0)
G.add_edge(16, 82,capacity=1, weight=0)
G.add_edge(17, 83,capacity=1, weight=0)
G.add_edge(18, 84,capacity=1, weight=0)
G.add_edge(19, 85,capacity=1, weight=0)
G.add_edge(20, 86,capacity=1, weight=0)
G.add_edge(21, 87,capacity=1, weight=0)
G.add_edge(22, 88,capacity=1, weight=0)
G.add_edge(23, 89,capacity=1, weight=0)
G.add_edge(24, 90,capacity=1, weight=0)
G.add_edge(25, 91,capacity=1, weight=0)
G.add_edge(26, 92,capacity=1, weight=0)
G.add_edge(27, 93,capacity=1, weight=0)
G.add_edge(28, 94,capacity=1, weight=0)
G.add_edge(29, 95,capacity=1, weight=0)
G.add_edge(30, 96,capacity=1, weight=0)
G.add_edge(31, 97,capacity=1, weight=0)
G.add_edge(32, 98,capacity=1, weight=0)
G.add_edge(33, 99,capacity=1, weight=0)
G.add_edge(34, 100,capacity=1, weight=0)
G.add_edge(35, 101,capacity=1, weight=0)
G.add_edge(36, 102,capacity=1, weight=0)
G.add_edge(37, 103,capacity=1, weight=0)
G.add_edge(38, 104,capacity=1, weight=0)
G.add_edge(39, 105,capacity=1, weight=0)
G.add_edge(40, 106,capacity=1, weight=0)
G.add_edge(41, 107,capacity=1, weight=0)
G.add_edge(42, 108,capacity=1, weight=0)
G.add_edge(43, 109,capacity=1, weight=0)
G.add_edge(44, 110,capacity=1, weight=0)
G.add_edge(45, 111,capacity=1, weight=0)
G.add_edge(46, 112,capacity=1, weight=0)
G.add_edge(47, 113,capacity=1, weight=0)
G.add_edge(48, 114,capacity=1, weight=0)
G.add_edge(49, 115,capacity=1, weight=0)
G.add_edge(50, 116,capacity=1, weight=0)
G.add_edge(51, 117,capacity=1, weight=0)
G.add_edge(52, 118,capacity=1, weight=0)
G.add_edge(53, 119,capacity=1, weight=0)
G.add_edge(54, 120,capacity=1, weight=0)
G.add_edge(55, 121,capacity=1, weight=0)
G.add_edge(56, 122,capacity=1, weight=0)
G.add_edge(57, 123,capacity=1, weight=0)
G.add_edge(58, 124,capacity=1, weight=0)
G.add_edge(59, 125,capacity=1, weight=0)
G.add_edge(60, 126,capacity=1, weight=0)
G.add_edge(61, 127,capacity=1, weight=0)
G.add_edge(62, 128,capacity=1, weight=0)
G.add_edge(63, 129,capacity=1, weight=0)
G.add_edge(64, 130,capacity=1, weight=0)
G.add_edge(65, 131,capacity=1, weight=0)
G.add_edge(66, 132,capacity=1, weight=0)
G.add_edge(67, 232, weight=4356)
G.add_edge(67, 190, weight=287496)
G.add_edge(67, 189, weight=18974736)
G.add_edge(67, 243, weight=1252332576)
G.add_edge(67, 193, weight=82653950016)
G.add_edge(67, 252, weight=5455160701056)
G.add_edge(67, 191, weight=360040606269696)
G.add_edge(68, 167, weight=4356)
G.add_edge(68, 176, weight=287496)
G.add_edge(68, 231, weight=18974736)
G.add_edge(68, 184, weight=1252332576)
G.add_edge(68, 232, weight=82653950016)
G.add_edge(68, 197, weight=5455160701056)
G.add_edge(68, 261, weight=360040606269696)
G.add_edge(69, 235, weight=4356)
G.add_edge(69, 222, weight=287496)
G.add_edge(69, 218, weight=18974736)
G.add_edge(69, 155, weight=1252332576)
G.add_edge(69, 174, weight=82653950016)
G.add_edge(69, 197, weight=5455160701056)
G.add_edge(69, 172, weight=360040606269696)
G.add_edge(70, 207, weight=4356)
G.add_edge(70, 240, weight=287496)
G.add_edge(70, 150, weight=18974736)
G.add_edge(70, 265, weight=1252332576)
G.add_edge(70, 175, weight=82653950016)
G.add_edge(70, 137, weight=5455160701056)
G.add_edge(70, 251, weight=360040606269696)
G.add_edge(71, 153, weight=4356)
G.add_edge(71, 154, weight=287496)
G.add_edge(71, 232, weight=18974736)
G.add_edge(71, 184, weight=1252332576)
G.add_edge(71, 176, weight=82653950016)
G.add_edge(71, 191, weight=5455160701056)
G.add_edge(71, 231, weight=360040606269696)
G.add_edge(72, 194, weight=4356)
G.add_edge(72, 240, weight=287496)
G.add_edge(72, 265, weight=18974736)
G.add_edge(72, 241, weight=1252332576)
G.add_edge(72, 155, weight=82653950016)
G.add_edge(72, 253, weight=5455160701056)
G.add_edge(72, 222, weight=360040606269696)
G.add_edge(73, 156, weight=4356)
G.add_edge(73, 207, weight=287496)
G.add_edge(73, 210, weight=18974736)
G.add_edge(73, 199, weight=1252332576)
G.add_edge(73, 263, weight=82653950016)
G.add_edge(73, 204, weight=5455160701056)
G.add_edge(73, 206, weight=360040606269696)
G.add_edge(74, 225, weight=4356)
G.add_edge(74, 185, weight=287496)
G.add_edge(74, 153, weight=18974736)
G.add_edge(74, 184, weight=1252332576)
G.add_edge(74, 227, weight=82653950016)
G.add_edge(74, 214, weight=5455160701056)
G.add_edge(74, 192, weight=360040606269696)
G.add_edge(75, 227, weight=4356)
G.add_edge(75, 229, weight=287496)
G.add_edge(75, 153, weight=18974736)
G.add_edge(75, 230, weight=1252332576)
G.add_edge(75, 154, weight=82653950016)
G.add_edge(75, 155, weight=5455160701056)
G.add_edge(75, 209, weight=360040606269696)
G.add_edge(76, 153, weight=4356)
G.add_edge(76, 167, weight=287496)
G.add_edge(76, 176, weight=18974736)
G.add_edge(76, 184, weight=1252332576)
G.add_edge(76, 185, weight=82653950016)
G.add_edge(76, 229, weight=5455160701056)
G.add_edge(76, 208, weight=360040606269696)
G.add_edge(77, 165, weight=4356)
G.add_edge(77, 140, weight=287496)
G.add_edge(77, 257, weight=18974736)
G.add_edge(77, 139, weight=1252332576)
G.add_edge(77, 205, weight=82653950016)
G.add_edge(77, 254, weight=5455160701056)
G.add_edge(77, 152, weight=360040606269696)
G.add_edge(78, 240, weight=4356)
G.add_edge(78, 239, weight=287496)
G.add_edge(78, 133, weight=18974736)
G.add_edge(78, 232, weight=1252332576)
G.add_edge(78, 223, weight=82653950016)
G.add_edge(78, 196, weight=5455160701056)
G.add_edge(78, 154, weight=360040606269696)
G.add_edge(79, 241, weight=4356)
G.add_edge(79, 133, weight=287496)
G.add_edge(79, 253, weight=18974736)
G.add_edge(79, 248, weight=1252332576)
G.add_edge(79, 205, weight=82653950016)
G.add_edge(79, 261, weight=5455160701056)
G.add_edge(79, 233, weight=360040606269696)
G.add_edge(80, 232, weight=4356)
G.add_edge(80, 166, weight=287496)
G.add_edge(80, 193, weight=18974736)
G.add_edge(80, 191, weight=1252332576)
G.add_edge(80, 190, weight=82653950016)
G.add_edge(80, 159, weight=5455160701056)
G.add_edge(80, 189, weight=360040606269696)
G.add_edge(81, 229, weight=4356)
G.add_edge(81, 210, weight=287496)
G.add_edge(81, 190, weight=18974736)
G.add_edge(81, 172, weight=1252332576)
G.add_edge(81, 230, weight=82653950016)
G.add_edge(81, 201, weight=5455160701056)
G.add_edge(81, 153, weight=360040606269696)
G.add_edge(82, 238, weight=4356)
G.add_edge(82, 152, weight=287496)
G.add_edge(82, 151, weight=18974736)
G.add_edge(82, 263, weight=1252332576)
G.add_edge(82, 145, weight=82653950016)
G.add_edge(82, 143, weight=5455160701056)
G.add_edge(82, 138, weight=360040606269696)
G.add_edge(83, 256, weight=4356)
G.add_edge(83, 257, weight=287496)
G.add_edge(83, 137, weight=18974736)
G.add_edge(83, 265, weight=1252332576)
G.add_edge(83, 254, weight=82653950016)
G.add_edge(83, 231, weight=5455160701056)
G.add_edge(83, 196, weight=360040606269696)
G.add_edge(84, 153, weight=4356)
G.add_edge(84, 225, weight=287496)
G.add_edge(84, 227, weight=18974736)
G.add_edge(84, 190, weight=1252332576)
G.add_edge(84, 159, weight=82653950016)
G.add_edge(84, 189, weight=5455160701056)
G.add_edge(84, 192, weight=360040606269696)
G.add_edge(85, 241, weight=4356)
G.add_edge(85, 153, weight=287496)
G.add_edge(85, 154, weight=18974736)
G.add_edge(85, 209, weight=1252332576)
G.add_edge(85, 227, weight=82653950016)
G.add_edge(85, 239, weight=5455160701056)
G.add_edge(85, 167, weight=360040606269696)
G.add_edge(86, 153, weight=4356)
G.add_edge(86, 194, weight=287496)
G.add_edge(86, 154, weight=18974736)
G.add_edge(86, 174, weight=1252332576)
G.add_edge(86, 171, weight=82653950016)
G.add_edge(86, 167, weight=5455160701056)
G.add_edge(86, 231, weight=360040606269696)
G.add_edge(87, 176, weight=4356)
G.add_edge(87, 204, weight=287496)
G.add_edge(87, 185, weight=18974736)
G.add_edge(87, 201, weight=1252332576)
G.add_edge(87, 212, weight=82653950016)
G.add_edge(87, 153, weight=5455160701056)
G.add_edge(87, 184, weight=360040606269696)
G.add_edge(88, 210, weight=4356)
G.add_edge(88, 241, weight=287496)
G.add_edge(88, 156, weight=18974736)
G.add_edge(88, 133, weight=1252332576)
G.add_edge(88, 135, weight=82653950016)
G.add_edge(88, 197, weight=5455160701056)
G.add_edge(88, 203, weight=360040606269696)
G.add_edge(89, 251, weight=4356)
G.add_edge(89, 250, weight=287496)
G.add_edge(89, 243, weight=18974736)
G.add_edge(89, 248, weight=1252332576)
G.add_edge(89, 143, weight=82653950016)
G.add_edge(89, 207, weight=5455160701056)
G.add_edge(89, 206, weight=360040606269696)
G.add_edge(90, 196, weight=4356)
G.add_edge(90, 197, weight=287496)
G.add_edge(90, 189, weight=18974736)
G.add_edge(90, 208, weight=1252332576)
G.add_edge(90, 192, weight=82653950016)
G.add_edge(90, 190, weight=5455160701056)
G.add_edge(90, 194, weight=360040606269696)
G.add_edge(91, 176, weight=4356)
G.add_edge(91, 167, weight=287496)
G.add_edge(91, 153, weight=18974736)
G.add_edge(91, 154, weight=1252332576)
G.add_edge(91, 159, weight=82653950016)
G.add_edge(91, 156, weight=5455160701056)
G.add_edge(91, 192, weight=360040606269696)
G.add_edge(92, 203, weight=4356)
G.add_edge(92, 190, weight=287496)
G.add_edge(92, 228, weight=18974736)
G.add_edge(92, 189, weight=1252332576)
G.add_edge(92, 198, weight=82653950016)
G.add_edge(92, 202, weight=5455160701056)
G.add_edge(92, 166, weight=360040606269696)
G.add_edge(93, 153, weight=4356)
G.add_edge(93, 230, weight=287496)
G.add_edge(93, 154, weight=18974736)
G.add_edge(93, 229, weight=1252332576)
G.add_edge(93, 172, weight=82653950016)
G.add_edge(93, 185, weight=5455160701056)
G.add_edge(93, 225, weight=360040606269696)
G.add_edge(94, 143, weight=4356)
G.add_edge(94, 197, weight=287496)
G.add_edge(94, 138, weight=18974736)
G.add_edge(94, 241, weight=1252332576)
G.add_edge(94, 213, weight=82653950016)
G.add_edge(94, 198, weight=5455160701056)
G.add_edge(94, 141, weight=360040606269696)
G.add_edge(95, 253, weight=4356)
G.add_edge(95, 207, weight=287496)
G.add_edge(95, 136, weight=18974736)
G.add_edge(95, 147, weight=1252332576)
G.add_edge(95, 141, weight=82653950016)
G.add_edge(95, 137, weight=5455160701056)
G.add_edge(95, 263, weight=360040606269696)
G.add_edge(96, 209, weight=4356)
G.add_edge(96, 227, weight=287496)
G.add_edge(96, 211, weight=18974736)
G.add_edge(96, 191, weight=1252332576)
G.add_edge(96, 241, weight=82653950016)
G.add_edge(96, 189, weight=5455160701056)
G.add_edge(96, 234, weight=360040606269696)
G.add_edge(97, 140, weight=4356)
G.add_edge(97, 182, weight=287496)
G.add_edge(97, 224, weight=18974736)
G.add_edge(97, 218, weight=1252332576)
G.add_edge(97, 210, weight=82653950016)
G.add_edge(97, 252, weight=5455160701056)
G.add_edge(97, 195, weight=360040606269696)
G.add_edge(98, 183, weight=4356)
G.add_edge(98, 232, weight=287496)
G.add_edge(98, 193, weight=18974736)
G.add_edge(98, 191, weight=1252332576)
G.add_edge(98, 213, weight=82653950016)
G.add_edge(98, 226, weight=5455160701056)
G.add_edge(98, 234, weight=360040606269696)
G.add_edge(99, 176, weight=4356)
G.add_edge(99, 215, weight=287496)
G.add_edge(99, 154, weight=18974736)
G.add_edge(99, 173, weight=1252332576)
G.add_edge(99, 191, weight=82653950016)
G.add_edge(99, 159, weight=5455160701056)
G.add_edge(99, 252, weight=360040606269696)
G.add_edge(100, 248, weight=4356)
G.add_edge(100, 152, weight=287496)
G.add_edge(100, 145, weight=18974736)
G.add_edge(100, 247, weight=1252332576)
G.add_edge(100, 263, weight=82653950016)
G.add_edge(100, 207, weight=5455160701056)
G.add_edge(100, 139, weight=360040606269696)
G.add_edge(101, 154, weight=4356)
G.add_edge(101, 172, weight=287496)
G.add_edge(101, 153, weight=18974736)
G.add_edge(101, 199, weight=1252332576)
G.add_edge(101, 201, weight=82653950016)
G.add_edge(101, 185, weight=5455160701056)
G.add_edge(101, 204, weight=360040606269696)
G.add_edge(102, 153, weight=4356)
G.add_edge(102, 230, weight=287496)
G.add_edge(102, 229, weight=18974736)
G.add_edge(102, 173, weight=1252332576)
G.add_edge(102, 154, weight=82653950016)
G.add_edge(102, 185, weight=5455160701056)
G.add_edge(102, 171, weight=360040606269696)
G.add_edge(103, 153, weight=4356)
G.add_edge(103, 154, weight=287496)
G.add_edge(103, 172, weight=18974736)
G.add_edge(103, 176, weight=1252332576)
G.add_edge(103, 185, weight=82653950016)
G.add_edge(103, 184, weight=5455160701056)
G.add_edge(103, 155, weight=360040606269696)
G.add_edge(104, 134, weight=4356)
G.add_edge(104, 152, weight=287496)
G.add_edge(104, 233, weight=18974736)
G.add_edge(104, 135, weight=1252332576)
G.add_edge(104, 151, weight=82653950016)
G.add_edge(104, 177, weight=5455160701056)
G.add_edge(104, 147, weight=360040606269696)
G.add_edge(105, 239, weight=4356)
G.add_edge(105, 252, weight=287496)
G.add_edge(105, 260, weight=18974736)
G.add_edge(105, 223, weight=1252332576)
G.add_edge(105, 219, weight=82653950016)
G.add_edge(105, 141, weight=5455160701056)
G.add_edge(105, 240, weight=360040606269696)
G.add_edge(106, 167, weight=4356)
G.add_edge(106, 169, weight=287496)
G.add_edge(106, 178, weight=18974736)
G.add_edge(106, 161, weight=1252332576)
G.add_edge(106, 262, weight=82653950016)
G.add_edge(106, 180, weight=5455160701056)
G.add_edge(106, 223, weight=360040606269696)
G.add_edge(107, 241, weight=4356)
G.add_edge(107, 194, weight=287496)
G.add_edge(107, 253, weight=18974736)
G.add_edge(107, 222, weight=1252332576)
G.add_edge(107, 231, weight=82653950016)
G.add_edge(107, 179, weight=5455160701056)
G.add_edge(107, 180, weight=360040606269696)
G.add_edge(108, 252, weight=4356)
G.add_edge(108, 178, weight=287496)
G.add_edge(108, 202, weight=18974736)
G.add_edge(108, 156, weight=1252332576)
G.add_edge(108, 220, weight=82653950016)
G.add_edge(108, 263, weight=5455160701056)
G.add_edge(108, 210, weight=360040606269696)
G.add_edge(109, 203, weight=4356)
G.add_edge(109, 184, weight=287496)
G.add_edge(109, 212, weight=18974736)
G.add_edge(109, 175, weight=1252332576)
G.add_edge(109, 176, weight=82653950016)
G.add_edge(109, 235, weight=5455160701056)
G.add_edge(109, 252, weight=360040606269696)
G.add_edge(110, 153, weight=4356)
G.add_edge(110, 161, weight=287496)
G.add_edge(110, 252, weight=18974736)
G.add_edge(110, 178, weight=1252332576)
G.add_edge(110, 226, weight=82653950016)
G.add_edge(110, 191, weight=5455160701056)
G.add_edge(110, 176, weight=360040606269696)
G.add_edge(111, 252, weight=4356)
G.add_edge(111, 197, weight=287496)
G.add_edge(111, 156, weight=18974736)
G.add_edge(111, 219, weight=1252332576)
G.add_edge(111, 263, weight=82653950016)
G.add_edge(111, 176, weight=5455160701056)
G.add_edge(111, 210, weight=360040606269696)
G.add_edge(112, 156, weight=4356)
G.add_edge(112, 210, weight=287496)
G.add_edge(112, 211, weight=18974736)
G.add_edge(112, 218, weight=1252332576)
G.add_edge(112, 195, weight=82653950016)
G.add_edge(112, 161, weight=5455160701056)
G.add_edge(112, 153, weight=360040606269696)
G.add_edge(113, 156, weight=4356)
G.add_edge(113, 194, weight=287496)
G.add_edge(113, 261, weight=18974736)
G.add_edge(113, 195, weight=1252332576)
G.add_edge(113, 252, weight=82653950016)
G.add_edge(113, 205, weight=5455160701056)
G.add_edge(113, 216, weight=360040606269696)
G.add_edge(114, 232, weight=4356)
G.add_edge(114, 183, weight=287496)
G.add_edge(114, 141, weight=18974736)
G.add_edge(114, 243, weight=1252332576)
G.add_edge(114, 206, weight=82653950016)
G.add_edge(114, 234, weight=5455160701056)
G.add_edge(114, 241, weight=360040606269696)
G.add_edge(115, 153, weight=4356)
G.add_edge(115, 194, weight=287496)
G.add_edge(115, 160, weight=18974736)
G.add_edge(115, 154, weight=1252332576)
G.add_edge(115, 212, weight=82653950016)
G.add_edge(115, 231, weight=5455160701056)
G.add_edge(115, 211, weight=360040606269696)
G.add_edge(116, 263, weight=4356)
G.add_edge(116, 162, weight=287496)
G.add_edge(116, 205, weight=18974736)
G.add_edge(116, 241, weight=1252332576)
G.add_edge(116, 140, weight=82653950016)
G.add_edge(116, 247, weight=5455160701056)
G.add_edge(116, 154, weight=360040606269696)
G.add_edge(117, 172, weight=4356)
G.add_edge(117, 153, weight=287496)
G.add_edge(117, 156, weight=18974736)
G.add_edge(117, 176, weight=1252332576)
G.add_edge(117, 154, weight=82653950016)
G.add_edge(117, 135, weight=5455160701056)
G.add_edge(117, 229, weight=360040606269696)
G.add_edge(118, 154, weight=4356)
G.add_edge(118, 261, weight=287496)
G.add_edge(118, 153, weight=18974736)
G.add_edge(118, 174, weight=1252332576)
G.add_edge(118, 155, weight=82653950016)
G.add_edge(118, 171, weight=5455160701056)
G.add_edge(118, 172, weight=360040606269696)
G.add_edge(119, 196, weight=4356)
G.add_edge(119, 156, weight=287496)
G.add_edge(119, 194, weight=18974736)
G.add_edge(119, 155, weight=1252332576)
G.add_edge(119, 174, weight=82653950016)
G.add_edge(119, 161, weight=5455160701056)
G.add_edge(119, 197, weight=360040606269696)
G.add_edge(120, 160, weight=4356)
G.add_edge(120, 176, weight=287496)
G.add_edge(120, 234, weight=18974736)
G.add_edge(120, 154, weight=1252332576)
G.add_edge(120, 174, weight=82653950016)
G.add_edge(120, 203, weight=5455160701056)
G.add_edge(120, 172, weight=360040606269696)
G.add_edge(121, 141, weight=4356)
G.add_edge(121, 138, weight=287496)
G.add_edge(121, 260, weight=18974736)
G.add_edge(121, 146, weight=1252332576)
G.add_edge(121, 243, weight=82653950016)
G.add_edge(121, 182, weight=5455160701056)
G.add_edge(121, 139, weight=360040606269696)
G.add_edge(122, 176, weight=4356)
G.add_edge(122, 172, weight=287496)
G.add_edge(122, 156, weight=18974736)
G.add_edge(122, 252, weight=1252332576)
G.add_edge(122, 153, weight=82653950016)
G.add_edge(122, 154, weight=5455160701056)
G.add_edge(122, 174, weight=360040606269696)
G.add_edge(123, 219, weight=4356)
G.add_edge(123, 260, weight=287496)
G.add_edge(123, 263, weight=18974736)
G.add_edge(123, 242, weight=1252332576)
G.add_edge(123, 223, weight=82653950016)
G.add_edge(123, 182, weight=5455160701056)
G.add_edge(123, 259, weight=360040606269696)
G.add_edge(124, 153, weight=4356)
G.add_edge(124, 155, weight=287496)
G.add_edge(124, 174, weight=18974736)
G.add_edge(124, 154, weight=1252332576)
G.add_edge(124, 234, weight=82653950016)
G.add_edge(124, 172, weight=5455160701056)
G.add_edge(124, 235, weight=360040606269696)
G.add_edge(125, 207, weight=4356)
G.add_edge(125, 247, weight=287496)
G.add_edge(125, 263, weight=18974736)
G.add_edge(125, 249, weight=1252332576)
G.add_edge(125, 148, weight=82653950016)
G.add_edge(125, 161, weight=5455160701056)
G.add_edge(125, 146, weight=360040606269696)
G.add_edge(126, 153, weight=4356)
G.add_edge(126, 154, weight=287496)
G.add_edge(126, 230, weight=18974736)
G.add_edge(126, 171, weight=1252332576)
G.add_edge(126, 155, weight=82653950016)
G.add_edge(126, 174, weight=5455160701056)
G.add_edge(126, 173, weight=360040606269696)
G.add_edge(127, 183, weight=4356)
G.add_edge(127, 206, weight=287496)
G.add_edge(127, 207, weight=18974736)
G.add_edge(127, 149, weight=1252332576)
G.add_edge(127, 260, weight=82653950016)
G.add_edge(127, 263, weight=5455160701056)
G.add_edge(127, 143, weight=360040606269696)
G.add_edge(128, 227, weight=4356)
G.add_edge(128, 228, weight=287496)
G.add_edge(128, 156, weight=18974736)
G.add_edge(128, 207, weight=1252332576)
G.add_edge(128, 136, weight=82653950016)
G.add_edge(128, 229, weight=5455160701056)
G.add_edge(128, 210, weight=360040606269696)
G.add_edge(129, 176, weight=4356)
G.add_edge(129, 265, weight=287496)
G.add_edge(129, 169, weight=18974736)
G.add_edge(129, 240, weight=1252332576)
G.add_edge(129, 194, weight=82653950016)
G.add_edge(129, 203, weight=5455160701056)
G.add_edge(129, 217, weight=360040606269696)
G.add_edge(130, 150, weight=4356)
G.add_edge(130, 248, weight=287496)
G.add_edge(130, 240, weight=18974736)
G.add_edge(130, 228, weight=1252332576)
G.add_edge(130, 155, weight=82653950016)
G.add_edge(130, 167, weight=5455160701056)
G.add_edge(130, 149, weight=360040606269696)
G.add_edge(131, 260, weight=4356)
G.add_edge(131, 222, weight=287496)
G.add_edge(131, 241, weight=18974736)
G.add_edge(131, 202, weight=1252332576)
G.add_edge(131, 219, weight=82653950016)
G.add_edge(131, 223, weight=5455160701056)
G.add_edge(131, 169, weight=360040606269696)
G.add_edge(132, 218, weight=4356)
G.add_edge(132, 195, weight=287496)
G.add_edge(132, 252, weight=18974736)
G.add_edge(132, 231, weight=1252332576)
G.add_edge(132, 135, weight=82653950016)
G.add_edge(132, 161, weight=5455160701056)
G.add_edge(132, 217, weight=360040606269696)
G.add_edge(232,367, capacity=3, weight=0)
G.add_edge(190,325, capacity=1, weight=0)
G.add_edge(189,324, capacity=1, weight=0)
G.add_edge(243,378, capacity=3, weight=0)
G.add_edge(193,328, capacity=1, weight=0)
G.add_edge(252,387, capacity=1, weight=0)
G.add_edge(191,326, capacity=1, weight=0)
G.add_edge(167,302, capacity=2, weight=0)
G.add_edge(176,311, capacity=1, weight=0)
G.add_edge(231,366, capacity=3, weight=0)
G.add_edge(184,319, capacity=0, weight=0)
G.add_edge(197,332, capacity=1, weight=0)
G.add_edge(261,396, capacity=1, weight=0)
G.add_edge(235,370, capacity=1, weight=0)
G.add_edge(222,357, capacity=1, weight=0)
G.add_edge(218,353, capacity=1, weight=0)
G.add_edge(155,290, capacity=1, weight=0)
G.add_edge(174,309, capacity=1, weight=0)
G.add_edge(172,307, capacity=1, weight=0)
G.add_edge(207,342, capacity=3, weight=0)
G.add_edge(240,375, capacity=1, weight=0)
G.add_edge(150,285, capacity=3, weight=0)
G.add_edge(265,400, capacity=1, weight=0)
G.add_edge(175,310, capacity=1, weight=0)
G.add_edge(137,272, capacity=1, weight=0)
G.add_edge(251,386, capacity=1, weight=0)
G.add_edge(153,288, capacity=2, weight=0)
G.add_edge(154,289, capacity=1, weight=0)
G.add_edge(194,329, capacity=1, weight=0)
G.add_edge(241,376, capacity=1, weight=0)
G.add_edge(253,388, capacity=1, weight=0)
G.add_edge(156,291, capacity=1, weight=0)
G.add_edge(210,345, capacity=1, weight=0)
G.add_edge(199,334, capacity=1, weight=0)
G.add_edge(263,398, capacity=1, weight=0)
G.add_edge(204,339, capacity=1, weight=0)
G.add_edge(206,341, capacity=3, weight=0)
G.add_edge(225,360, capacity=1, weight=0)
G.add_edge(185,320, capacity=1, weight=0)
G.add_edge(227,362, capacity=1, weight=0)
G.add_edge(214,349, capacity=1, weight=0)
G.add_edge(192,327, capacity=1, weight=0)
G.add_edge(229,364, capacity=1, weight=0)
G.add_edge(230,365, capacity=1, weight=0)
G.add_edge(209,344, capacity=1, weight=0)
G.add_edge(208,343, capacity=1, weight=0)
G.add_edge(165,300, capacity=1, weight=0)
G.add_edge(140,275, capacity=1, weight=0)
G.add_edge(257,392, capacity=1, weight=0)
G.add_edge(139,274, capacity=3, weight=0)
G.add_edge(205,340, capacity=3, weight=0)
G.add_edge(254,389, capacity=1, weight=0)
G.add_edge(152,287, capacity=1, weight=0)
G.add_edge(239,374, capacity=1, weight=0)
G.add_edge(133,268, capacity=1, weight=0)
G.add_edge(223,358, capacity=1, weight=0)
G.add_edge(196,331, capacity=1, weight=0)
G.add_edge(248,383, capacity=1, weight=0)
G.add_edge(233,368, capacity=3, weight=0)
G.add_edge(166,301, capacity=1, weight=0)
G.add_edge(159,294, capacity=1, weight=0)
G.add_edge(201,336, capacity=1, weight=0)
G.add_edge(238,373, capacity=1, weight=0)
G.add_edge(151,286, capacity=1, weight=0)
G.add_edge(145,280, capacity=3, weight=0)
G.add_edge(143,278, capacity=1, weight=0)
G.add_edge(138,273, capacity=1, weight=0)
G.add_edge(256,391, capacity=1, weight=0)
G.add_edge(171,306, capacity=1, weight=0)
G.add_edge(212,347, capacity=1, weight=0)
G.add_edge(135,270, capacity=1, weight=0)
G.add_edge(203,338, capacity=1, weight=0)
G.add_edge(250,385, capacity=1, weight=0)
G.add_edge(228,363, capacity=1, weight=0)
G.add_edge(198,333, capacity=1, weight=0)
G.add_edge(202,337, capacity=1, weight=0)
G.add_edge(213,348, capacity=3, weight=0)
G.add_edge(141,276, capacity=1, weight=0)
G.add_edge(136,271, capacity=1, weight=0)
G.add_edge(147,282, capacity=1, weight=0)
G.add_edge(211,346, capacity=1, weight=0)
G.add_edge(234,369, capacity=1, weight=0)
G.add_edge(182,317, capacity=3, weight=0)
G.add_edge(224,359, capacity=3, weight=0)
G.add_edge(195,330, capacity=1, weight=0)
G.add_edge(183,318, capacity=3, weight=0)
G.add_edge(226,361, capacity=1, weight=0)
G.add_edge(215,350, capacity=1, weight=0)
G.add_edge(173,308, capacity=1, weight=0)
G.add_edge(247,382, capacity=1, weight=0)
G.add_edge(134,269, capacity=3, weight=0)
G.add_edge(177,312, capacity=3, weight=0)
G.add_edge(260,395, capacity=1, weight=0)
G.add_edge(219,354, capacity=1, weight=0)
G.add_edge(169,304, capacity=1, weight=0)
G.add_edge(178,313, capacity=1, weight=0)
G.add_edge(161,296, capacity=1, weight=0)
G.add_edge(262,397, capacity=1, weight=0)
G.add_edge(180,315, capacity=3, weight=0)
G.add_edge(179,314, capacity=1, weight=0)
G.add_edge(220,355, capacity=1, weight=0)
G.add_edge(216,351, capacity=1, weight=0)
G.add_edge(160,295, capacity=2, weight=0)
G.add_edge(162,297, capacity=1, weight=0)
G.add_edge(146,281, capacity=1, weight=0)
G.add_edge(242,377, capacity=1, weight=0)
G.add_edge(259,394, capacity=1, weight=0)
G.add_edge(249,384, capacity=1, weight=0)
G.add_edge(148,283, capacity=1, weight=0)
G.add_edge(149,284, capacity=1, weight=0)
G.add_edge(217,352, capacity=1, weight=0)
G.add_edge(367, 428, weight=1)
G.add_edge(325, 419, weight=1)
G.add_edge(324, 419, weight=1)
G.add_edge(378, 432, weight=1)
G.add_edge(328, 419, weight=1)
G.add_edge(387, 429, weight=1)
G.add_edge(326, 419, weight=1)
G.add_edge(302, 413, weight=1)
G.add_edge(311, 414, weight=1)
G.add_edge(366, 428, weight=1)
G.add_edge(319, 417, weight=1)
G.add_edge(332, 421, weight=1)
G.add_edge(396, 435, weight=1)
G.add_edge(396, 420, weight=66)
G.add_edge(370, 431, weight=1)
G.add_edge(357, 426, weight=1)
G.add_edge(353, 425, weight=1)
G.add_edge(290, 409, weight=1)
G.add_edge(309, 414, weight=1)
G.add_edge(307, 414, weight=1)
G.add_edge(342, 403, weight=1)
G.add_edge(342, 416, weight=66)
G.add_edge(342, 423, weight=4356)
G.add_edge(375, 432, weight=1)
G.add_edge(285, 407, weight=1)
G.add_edge(400, 434, weight=1)
G.add_edge(310, 414, weight=1)
G.add_edge(272, 404, weight=1)
G.add_edge(386, 418, weight=1)
G.add_edge(386, 403, weight=66)
G.add_edge(288, 409, weight=1)
G.add_edge(289, 409, weight=1)
G.add_edge(329, 421, weight=1)
G.add_edge(376, 432, weight=1)
G.add_edge(388, 430, weight=1)
G.add_edge(291, 410, weight=1)
G.add_edge(345, 424, weight=1)
G.add_edge(334, 422, weight=1)
G.add_edge(398, 423, weight=1)
G.add_edge(339, 422, weight=1)
G.add_edge(341, 423, weight=1)
G.add_edge(360, 427, weight=1)
G.add_edge(360, 414, weight=66)
G.add_edge(320, 417, weight=1)
G.add_edge(320, 427, weight=66)
G.add_edge(362, 427, weight=1)
G.add_edge(349, 425, weight=1)
G.add_edge(327, 419, weight=1)
G.add_edge(364, 427, weight=1)
G.add_edge(365, 427, weight=1)
G.add_edge(344, 424, weight=1)
G.add_edge(343, 424, weight=1)
G.add_edge(300, 412, weight=1)
G.add_edge(275, 416, weight=1)
G.add_edge(392, 430, weight=1)
G.add_edge(274, 405, weight=1)
G.add_edge(274, 416, weight=66)
G.add_edge(340, 423, weight=1)
G.add_edge(389, 430, weight=1)
G.add_edge(287, 408, weight=1)
G.add_edge(374, 432, weight=1)
G.add_edge(268, 404, weight=1)
G.add_edge(268, 430, weight=66)
G.add_edge(358, 426, weight=1)
G.add_edge(331, 421, weight=1)
G.add_edge(383, 418, weight=1)
G.add_edge(368, 428, weight=1)
G.add_edge(301, 413, weight=1)
G.add_edge(294, 410, weight=1)
G.add_edge(336, 422, weight=1)
G.add_edge(373, 432, weight=1)
G.add_edge(286, 408, weight=1)
G.add_edge(280, 405, weight=1)
G.add_edge(278, 405, weight=1)
G.add_edge(273, 405, weight=1)
G.add_edge(391, 430, weight=1)
G.add_edge(306, 414, weight=1)
G.add_edge(347, 424, weight=1)
G.add_edge(270, 404, weight=1)
G.add_edge(338, 422, weight=1)
G.add_edge(385, 418, weight=1)
G.add_edge(385, 416, weight=66)
G.add_edge(363, 427, weight=1)
G.add_edge(333, 421, weight=1)
G.add_edge(337, 422, weight=1)
G.add_edge(348, 424, weight=1)
G.add_edge(348, 427, weight=66)
G.add_edge(348, 429, weight=4356)
G.add_edge(276, 405, weight=1)
G.add_edge(276, 406, weight=66)
G.add_edge(276, 416, weight=4356)
G.add_edge(271, 404, weight=1)
G.add_edge(282, 406, weight=1)
G.add_edge(346, 424, weight=1)
G.add_edge(369, 431, weight=1)
G.add_edge(317, 416, weight=1)
G.add_edge(359, 416, weight=1)
G.add_edge(359, 403, weight=66)
G.add_edge(330, 421, weight=1)
G.add_edge(318, 408, weight=1)
G.add_edge(361, 427, weight=1)
G.add_edge(350, 425, weight=1)
G.add_edge(308, 414, weight=1)
G.add_edge(382, 418, weight=1)
G.add_edge(269, 404, weight=1)
G.add_edge(269, 406, weight=66)
G.add_edge(269, 411, weight=4356)
G.add_edge(312, 415, weight=1)
G.add_edge(395, 435, weight=1)
G.add_edge(354, 426, weight=1)
G.add_edge(304, 413, weight=1)
G.add_edge(313, 415, weight=1)
G.add_edge(296, 411, weight=1)
G.add_edge(397, 435, weight=1)
G.add_edge(397, 420, weight=66)
G.add_edge(315, 415, weight=1)
G.add_edge(314, 415, weight=1)
G.add_edge(355, 426, weight=1)
G.add_edge(351, 425, weight=1)
G.add_edge(295, 411, weight=1)
G.add_edge(297, 412, weight=1)
G.add_edge(281, 405, weight=1)
G.add_edge(377, 432, weight=1)
G.add_edge(394, 435, weight=1)
G.add_edge(394, 405, weight=66)
G.add_edge(384, 418, weight=1)
G.add_edge(283, 406, weight=1)
G.add_edge(284, 406, weight=1)
G.add_edge(284, 408, weight=66)
G.add_edge(352, 425, weight=1)
G.add_edge(428, 461, capacity=1, weight=0)
G.add_edge(419, 452, capacity=3, weight=0)
G.add_edge(432, 465, capacity=3, weight=0)
G.add_edge(429, 462, capacity=3, weight=0)
G.add_edge(413, 446, capacity=3, weight=0)
G.add_edge(414, 447, capacity=3, weight=0)
G.add_edge(417, 450, capacity=0, weight=0)
G.add_edge(421, 454, capacity=3, weight=0)
G.add_edge(435, 468, capacity=3, weight=0)
G.add_edge(420, 453, capacity=3, weight=0)
G.add_edge(431, 464, capacity=3, weight=0)
G.add_edge(426, 459, capacity=3, weight=0)
G.add_edge(425, 458, capacity=3, weight=0)
G.add_edge(409, 442, capacity=1, weight=0)
G.add_edge(403, 436, capacity=3, weight=0)
G.add_edge(416, 449, capacity=3, weight=0)
G.add_edge(423, 456, capacity=1, weight=0)
G.add_edge(407, 440, capacity=1, weight=0)
G.add_edge(434, 467, capacity=2, weight=0)
G.add_edge(404, 437, capacity=3, weight=0)
G.add_edge(418, 451, capacity=1, weight=0)
G.add_edge(430, 463, capacity=3, weight=0)
G.add_edge(410, 443, capacity=3, weight=0)
G.add_edge(424, 457, capacity=3, weight=0)
G.add_edge(422, 455, capacity=3, weight=0)
G.add_edge(427, 460, capacity=3, weight=0)
G.add_edge(412, 445, capacity=3, weight=0)
G.add_edge(405, 438, capacity=3, weight=0)
G.add_edge(408, 441, capacity=3, weight=0)
G.add_edge(406, 439, capacity=3, weight=0)
G.add_edge(411, 444, capacity=3, weight=0)
G.add_edge(415, 448, capacity=1, weight=0)
G.add_edge(438, 469, weight=0)
G.add_edge(461, 469, weight=0)
G.add_edge(436, 469, weight=0)
G.add_edge(452, 469, weight=0)
G.add_edge(465, 469, weight=0)
G.add_edge(462, 469, weight=0)
G.add_edge(437, 469, weight=0)
G.add_edge(446, 469, weight=0)
G.add_edge(447, 469, weight=0)
G.add_edge(435, 469, weight=0)
G.add_edge(450, 469, weight=0)
G.add_edge(454, 469, weight=0)
G.add_edge(468, 469, weight=0)
G.add_edge(453, 469, weight=0)
G.add_edge(464, 469, weight=0)
G.add_edge(459, 469, weight=0)
G.add_edge(458, 469, weight=0)
G.add_edge(442, 469, weight=0)
G.add_edge(449, 469, weight=0)
G.add_edge(456, 469, weight=0)
G.add_edge(440, 469, weight=0)
G.add_edge(467, 469, weight=0)
G.add_edge(451, 469, weight=0)
G.add_edge(463, 469, weight=0)
G.add_edge(443, 469, weight=0)
G.add_edge(457, 469, weight=0)
G.add_edge(455, 469, weight=0)
G.add_edge(460, 469, weight=0)
G.add_edge(445, 469, weight=0)
G.add_edge(441, 469, weight=0)
G.add_edge(439, 469, weight=0)
G.add_edge(444, 469, weight=0)
G.add_edge(448, 469, weight=0)
import sys
try:
 J=nx.max_flow_min_cost(G,0,469)
except nx.NetworkXUnfeasible:
  print('Allocation satisfying the lower bounds is not possible. Try reducing lower bounds.')
  sys.exit(1)
except nx.NetworkXError:
  print('The input graph is not directed or not connected. Please check the data if all the choices on the level 1 list are included in the level 2 list and the choices on the level 2 list are included in the level 3 list.')
  sys.exit(1)
except nx.NetworkXUnbounded:
  print('Allocation is not possible because some upper capacity bounds at level 1 have not been set up. Please check the data.')
  sys.exit(1)